exports.id=120,exports.ids=[120],exports.modules={331:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{Ay:()=>o,PE:()=>m,QM:()=>j,RO:()=>n,Uq:()=>k,Ww:()=>l});var e=c(9198),f=c(1428),g=a([e,f]);[e,f]=g.then?(await g)():g;let h="http://localhost:5000",i=a=>f.default.create({baseURL:h,headers:{Authorization:`Bearer ${a}`}}),j=(0,e.createAsyncThunk)("files/upload",async({file:a},{rejectWithValue:b})=>{try{let b=sessionStorage.getItem("token"),c=new FormData;c.append("file",a);let d=i(b);return(await d.post("/upload",c)).data}catch(a){return b(a.response?.data||"Upload failed")}}),k=(0,e.createAsyncThunk)("files/fetchAll",async(a,{rejectWithValue:b})=>{try{let a=sessionStorage.getItem("token"),b=i(a);return(await b.get("/files")).data}catch(a){return b(a.response?.data||"Failed to fetch files")}}),l=(0,e.createAsyncThunk)("files/delete",async(a,{rejectWithValue:b})=>{try{let b=sessionStorage.getItem("token"),c=i(b);return await c.delete(`/files/${a}`),a}catch(a){return b(a.response?.data||"Delete failed")}}),m=(0,e.createAsyncThunk)("files/download",async(a,{rejectWithValue:b})=>{try{let b=sessionStorage.getItem("token"),c=await fetch(`${h}/files/${a}/download`,{headers:{Authorization:`Bearer ${b}`,Accept:"*/*"}}),d=c.headers.get("content-type"),e=c.headers.get("content-disposition"),f=`file-${a}`;if(e){let a=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(e);null!=a&&a[1]&&(f=a[1].replace(/['"]/g,""))}let g=await c.blob(),i=new Blob([g],{type:d||"application/octet-stream"}),j=window.URL.createObjectURL(i),k=document.createElement("a");return k.style.display="none",k.href=j,k.download=decodeURIComponent(f),document.body.appendChild(k),k.click(),setTimeout(()=>{document.body.removeChild(k),window.URL.revokeObjectURL(j)},100),{fileId:a,fileName:f}}catch(a){return b({message:a.message||"Download failed"})}}),n=(0,e.createAsyncThunk)("files/preview",async(a,{rejectWithValue:b})=>{try{let b=sessionStorage.getItem("token"),c=i(b),d=await c.get(`/files/${a}/preview`);if(d.data&&d.data.previewUrl)return window.open(d.data.previewUrl,"_blank"),d.data;throw Error("Preview URL not found")}catch(a){return b(a.response?.data?.message||"Preview failed")}}),o=(0,e.createSlice)({name:"files",initialState:{files:[],loadingAll:!1,uploading:!1,deleting:!1,error:null},reducers:{},extraReducers:a=>{a.addCase(k.pending,a=>{a.loadingAll=!0}).addCase(k.fulfilled,(a,b)=>{a.loadingAll=!1,a.files=b.payload}).addCase(k.rejected,(a,b)=>{a.loadingAll=!1,a.error=b.payload}).addCase(j.pending,a=>{a.uploading=!0}).addCase(j.fulfilled,(a,b)=>{a.uploading=!1,a.files.unshift(b.payload)}).addCase(j.rejected,(a,b)=>{a.uploading=!1,a.error=b.payload}).addCase(l.pending,(a,b)=>{a.deleting=!0,a.files=a.files.filter(a=>a._id!==b.meta.arg)}).addCase(l.fulfilled,a=>{a.deleting=!1}).addCase(l.rejected,(a,b)=>{a.deleting=!1,a.error=b.payload}).addCase(m.pending,a=>{}).addCase(m.fulfilled,a=>{}).addCase(m.rejected,(a,b)=>{a.error=b.payload})}}).reducer;d()}catch(a){d(a)}})},979:()=>{},1628:(a,b)=>{"use strict";function c(a){let{ampFirst:b=!1,hybrid:c=!1,hasQuery:d=!1}=void 0===a?{}:a;return b||c&&d}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"isInAmpMode",{enumerable:!0,get:function(){return c}})},2968:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{default:function(){return p},defaultHead:function(){return l}});let d=c(7020),e=c(3147),f=c(8732),g=e._(c(2015)),h=d._(c(8443)),i=c(7043),j=c(1523),k=c(1628);function l(a){void 0===a&&(a=!1);let b=[(0,f.jsx)("meta",{charSet:"utf-8"},"charset")];return a||b.push((0,f.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),b}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===g.default.Fragment?a.concat(g.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}c(2314);let n=["name","httpEquiv","charSet","itemProp"];function o(a,b){let{inAmpMode:c}=b;return a.reduce(m,[]).reverse().concat(l(c).reverse()).filter(function(){let a=new Set,b=new Set,c=new Set,d={};return e=>{let f=!0,g=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){g=!0;let b=e.key.slice(e.key.indexOf("$")+1);a.has(b)?f=!1:a.add(b)}switch(e.type){case"title":case"base":b.has(e.type)?f=!1:b.add(e.type);break;case"meta":for(let a=0,b=n.length;a<b;a++){let b=n[a];if(e.props.hasOwnProperty(b))if("charSet"===b)c.has(b)?f=!1:c.add(b);else{let a=e.props[b],c=d[b]||new Set;("name"!==b||!g)&&c.has(a)?f=!1:(c.add(a),d[b]=c)}}}return f}}()).reverse().map((a,b)=>{let c=a.key||b;return g.default.cloneElement(a,{key:c})})}let p=function(a){let{children:b}=a,c=(0,g.useContext)(i.AmpStateContext),d=(0,g.useContext)(j.HeadManagerContext);return(0,f.jsx)(h.default,{reduceComponentsToState:o,headManager:d,inAmpMode:(0,k.isInAmpMode)(c),children:b})};("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},5487:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{Ay:()=>k,iD:()=>j,kz:()=>i});var e=c(9198),f=c(1428),g=a([e,f]);[e,f]=g.then?(await g)():g;let h="http://localhost:5000",i=(0,e.createAsyncThunk)("auth/register",async({name:a,email:b,password:c},{rejectWithValue:d})=>{try{let d=await f.default.post(`${h}/auth/register`,{name:a,email:b,password:c});return sessionStorage.setItem("token",d.data.token),d.data}catch(a){return d(a.response.data)}}),j=(0,e.createAsyncThunk)("auth/login",async({email:a,password:b},{rejectWithValue:c})=>{try{let c=await f.default.post(`${h}/auth/login`,{email:a,password:b});return sessionStorage.setItem("token",c.data.token),c.data}catch(a){return c(a.response.data)}}),k=(0,e.createSlice)({name:"auth",initialState:{user:null,token:null,loading:!1,error:null},reducers:{logout:a=>{a.user=null,a.token=null},clearError:a=>{a.error=null}},extraReducers:a=>{a.addCase(i.pending,a=>{a.loading=!0}).addCase(i.fulfilled,(a,b)=>{a.loading=!1,a.user=b.payload.user,a.token=b.payload.token}).addCase(i.rejected,(a,b)=>{a.loading=!1,a.error=b.payload}).addCase(j.pending,a=>{a.loading=!0}).addCase(j.fulfilled,(a,b)=>{a.loading=!1,a.user=b.payload.user,a.token=b.payload.token}).addCase(j.rejected,(a,b)=>{a.loading=!1,a.error=b.payload})}}).reducer;d()}catch(a){d(a)}})},5546:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>j});var e=c(8732),f=c(4062),g=c(6834),h=c(1415);c(979);var i=a([f,g,h]);function j({Component:a,pageProps:b}){return(0,e.jsxs)(f.Provider,{store:g.M,children:[(0,e.jsx)(a,{...b}),(0,e.jsx)(h.Toaster,{position:"top-right"})]})}[f,g,h]=i.then?(await i)():i,d()}catch(a){d(a)}})},5714:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f});var d=c(8732),e=c(2341);function f(){return(0,d.jsxs)(e.Html,{lang:"en",children:[(0,d.jsx)(e.Head,{}),(0,d.jsxs)("body",{className:"antialiased",children:[(0,d.jsx)(e.Main,{}),(0,d.jsx)(e.NextScript,{})]})]})}},6834:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{M:()=>i});var e=c(9198),f=c(5487),g=c(331),h=a([e,f,g]);[e,f,g]=h.then?(await h)():h;let i=(0,e.configureStore)({reducer:{auth:f.Ay,files:g.Ay}});d()}catch(a){d(a)}})},7043:(a,b,c)=>{"use strict";a.exports=c(3885).vendored.contexts.AmpContext},8443:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return f}});let d=c(2015),e=()=>{};function f(a){var b;let{headManager:c,reduceComponentsToState:f}=a;function g(){if(c&&c.mountedInstances){let b=d.Children.toArray(Array.from(c.mountedInstances).filter(Boolean));c.updateHead(f(b,a))}}return null==c||null==(b=c.mountedInstances)||b.add(a.children),g(),e(()=>{var b;return null==c||null==(b=c.mountedInstances)||b.add(a.children),()=>{var b;null==c||null==(b=c.mountedInstances)||b.delete(a.children)}}),e(()=>(c&&(c._pendingUpdate=g),()=>{c&&(c._pendingUpdate=g)})),null}}};